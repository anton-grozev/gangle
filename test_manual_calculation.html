<!DOCTYPE html>
<html lang="bg">
<head>
    <meta charset="UTF-8">
    <title>–†–™–ß–ù–û –ò–ó–ß–ò–°–õ–ï–ù–ò–ï - –°—Ç—ä–ø–∫–∞ –ø–æ —Å—Ç—ä–ø–∫–∞</title>
    <style>
        body {
            font-family: 'Segoe UI', Arial, sans-serif;
            max-width: 1600px;
            margin: 20px auto;
            padding: 30px;
            background: #0a0e27;
            color: #e0e0e0;
        }
        h1 {
            color: #64ffda;
            text-align: center;
            font-size: 42px;
            text-shadow: 0 0 20px rgba(100, 255, 218, 0.5);
            margin-bottom: 40px;
        }
        .step {
            background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
            padding: 30px;
            margin: 25px 0;
            border-radius: 15px;
            border-left: 5px solid #64ffda;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);
        }
        .step h2 {
            color: #64ffda;
            margin-top: 0;
            font-size: 28px;
            border-bottom: 2px solid #334155;
            padding-bottom: 10px;
        }
        .code {
            background: #0f172a;
            padding: 20px;
            border-radius: 10px;
            font-family: 'Consolas', 'Courier New', monospace;
            font-size: 15px;
            line-height: 1.8;
            border: 1px solid #334155;
            overflow-x: auto;
            margin: 15px 0;
        }
        .value {
            color: #fbbf24;
            font-weight: bold;
        }
        .function {
            color: #a78bfa;
            font-weight: bold;
        }
        .comment {
            color: #6ee7b7;
            font-style: italic;
        }
        .result-box {
            background: linear-gradient(135deg, #065f46 0%, #047857 100%);
            padding: 30px;
            border-radius: 15px;
            margin: 30px 0;
            text-align: center;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);
        }
        .result-box .big {
            font-size: 72px;
            font-weight: bold;
            color: #6ee7b7;
            margin: 20px 0;
            text-shadow: 0 0 30px rgba(110, 231, 183, 0.5);
        }
        .result-box .label {
            font-size: 24px;
            color: #d1fae5;
            margin-bottom: 10px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        th, td {
            padding: 15px;
            text-align: left;
            border: 1px solid #334155;
        }
        th {
            background: #1e293b;
            color: #64ffda;
            font-weight: bold;
        }
        tr:nth-child(even) {
            background: #1e293b;
        }
        .highlight {
            background: rgba(251, 191, 36, 0.2);
            padding: 3px 10px;
            border-radius: 5px;
            border: 1px solid #fbbf24;
        }
        .final-answer {
            background: linear-gradient(135deg, #7c3aed 0%, #a78bfa 100%);
            padding: 40px;
            border-radius: 20px;
            margin: 40px 0;
            text-align: center;
            box-shadow: 0 12px 48px rgba(124, 58, 237, 0.4);
        }
        .final-answer h2 {
            color: white;
            font-size: 36px;
            margin: 0 0 20px 0;
        }
        .final-answer p {
            font-size: 22px;
            line-height: 1.8;
            color: #e9d5ff;
        }
    </style>
</head>
<body>
    <h1>üßÆ –†–™–ß–ù–û –ò–ó–ß–ò–°–õ–ï–ù–ò–ï<br>–¢–æ—á–Ω–æ –∫–∞—Ç–æ –≤ GAngle.js</h1>
    
    <div class="step">
        <h2>üì• –í—Ö–æ–¥–Ω–∏ –¥–∞–Ω–Ω–∏</h2>
        <div class="code" id="inputs"></div>
    </div>

    <div class="step">
        <h2>üîÑ –°–¢–™–ü–ö–ê 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–ª–∏ —Å–µ –∏–∑–ø–æ–ª–∑–≤–∞ wrapper</h2>
        <div class="code" id="step1"></div>
    </div>

    <div class="step">
        <h2>üîÑ –°–¢–™–ü–ö–ê 2: –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è SW ‚Üí M (–∞–∫–æ —Å–µ –∏–∑–ø–æ–ª–∑–≤–∞ wrapper)</h2>
        <div class="code" id="step2"></div>
    </div>

    <div class="step">
        <h2>üìê –°–¢–™–ü–ö–ê 3: –ò–∑—á–∏—Å–ª—è–≤–∞–Ω–µ –Ω–∞ h</h2>
        <div class="code" id="step3"></div>
    </div>

    <div class="step">
        <h2>üìê –°–¢–™–ü–ö–ê 4: –ò–∑—á–∏—Å–ª—è–≤–∞–Ω–µ –Ω–∞ xM_i</h2>
        <div class="code" id="step4"></div>
    </div>

    <div class="step">
        <h2>üìê –°–¢–™–ü–ö–ê 5: –ò–∑—á–∏—Å–ª—è–≤–∞–Ω–µ –Ω–∞ Œ±f</h2>
        <div class="code" id="step5"></div>
    </div>

    <div class="result-box">
        <div class="label">üéØ –û–ö–û–ù–ß–ê–¢–ï–õ–ï–ù –†–ï–ó–£–õ–¢–ê–¢</div>
        <div class="big" id="final-result"></div>
        <div id="final-details" style="font-size: 20px; color: #d1fae5; margin-top: 15px;"></div>
    </div>

    <div class="final-answer" id="conclusion"></div>

    <script>
        // –í—Ö–æ–¥–Ω–∏ –¥–∞–Ω–Ω–∏ –æ—Ç –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∏—è –∫–∞–ª–∫—É–ª–∞—Ç–æ—Ä
        const l = 85;
        const d = 5.7;
        const thetaDeg = 61;
        const betaDeg = 24;
        const x_input = 0;
        const y_input = 4.84;
        const z_input = -9.75;

        const theta = thetaDeg * Math.PI / 180;
        const beta = betaDeg * Math.PI / 180;

        console.log('====================================');
        console.log('–†–™–ß–ù–û –ò–ó–ß–ò–°–õ–ï–ù–ò–ï - –°–¢–™–ü–ö–ê –ü–û –°–¢–™–ü–ö–ê');
        console.log('====================================');
        console.log('');
        console.log('–í–•–û–î–ù–ò –î–ê–ù–ù–ò:');
        console.log('l =', l, 'mm');
        console.log('d =', d, 'mm');
        console.log('Œ∏ =', thetaDeg, '¬∞ =', theta, 'rad');
        console.log('Œ≤ =', betaDeg, '¬∞ =', beta, 'rad');
        console.log('–í—Ö–æ–¥–Ω–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏: x =', x_input, ', y =', y_input, ', z =', z_input);

        document.getElementById('inputs').innerHTML = `
<span class="comment">// –ü–∞—Ä–∞–º–µ—Ç—Ä–∏ –Ω–∞ —Å–≤—Ä–µ–¥–ª–æ—Ç–æ –∏ –∫–æ–Ω—É—Å–∞</span>
<span class="value">l</span> = ${l} mm         <span class="comment">// –†–∞–∑—Å—Ç–æ—è–Ω–∏–µ –æ—Ç –≤—ä—Ä—Ö–∞ –Ω–∞ –∫–æ–Ω—É—Å–∞</span>
<span class="value">d</span> = ${d} mm        <span class="comment">// –†–∞–∑—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É –æ—Å–∏—Ç–µ</span>
<span class="value">Œ∏</span> = ${thetaDeg}¬∞ = ${theta.toFixed(10)} rad
<span class="value">Œ≤</span> = ${betaDeg}¬∞ = ${beta.toFixed(10)} rad

<span class="comment">// –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏ –Ω–∞ —Ç–æ—á–∫–∞—Ç–∞</span>
<span class="value">x</span> = ${x_input} mm
<span class="value">y</span> = ${y_input} mm
<span class="value">z</span> = ${z_input} mm
        `;

        // –°–¢–™–ü–ö–ê 1: –î–∞–ª–∏ —Å–µ –∏–∑–ø–æ–ª–∑–≤–∞ wrapper?
        console.log('\n===== –°–¢–™–ü–ö–ê 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞ wrapper =====');
        const usesWrapper = true; // –û—Ç index.html, —Ä–µ–¥ 2763
        console.log('calculateAngleFromSW —Å—ä—â–µ—Å—Ç–≤—É–≤–∞?', usesWrapper);
        console.log('Index.html –∏–∑–ø–æ–ª–∑–≤–∞:', usesWrapper ? 'calculateAngleFromSW()' : 'calculateAngle()');

        document.getElementById('step1').innerHTML = `
<span class="comment">// –û—Ç index.html, —Ä–µ–¥–æ–≤–µ 2762-2765:</span>
<span class="function">if</span> (<span class="function">typeof</span> calc.calculateAngleFromSW === <span class="value">'function'</span>) {
    <span class="comment">// ‚úÖ Wrapper –°–™–©–ï–°–¢–í–£–í–ê –∏ —Å–µ –∏–∑–ø–æ–ª–∑–≤–∞</span>
    res = calc.<span class="function">calculateAngleFromSW</span>(l, d, thetaRad, betaRad, x_sw, y_sw, z_sw);
}

<span class="comment">// –†–µ–∑—É–ª—Ç–∞—Ç: ${usesWrapper ? '‚úÖ Wrapper –°–ï –ò–ó–ü–û–õ–ó–í–ê' : '‚ùå Wrapper –ù–ï —Å–µ –∏–∑–ø–æ–ª–∑–≤–∞'}</span>
        `;

        // –°–¢–™–ü–ö–ê 2: –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è SW ‚Üí M
        console.log('\n===== –°–¢–™–ü–ö–ê 2: –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è SW ‚Üí M =====');
        
        let xM, yM, zM;
        
        if (usesWrapper) {
            // –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞ –º–∞—Ç—Ä–∏—Ü–∞ –æ—Ç GAngle.js
            const M11 = -0.1747159967, M12 = 0.6235799837, M13 = -0.1867561927;
            const M21 = 0.3122687596, M22 = -0.1413437982, M23 = 0.8581431812;
            const M31 = 0.8697589148, M32 = -0.1087945740, M33 = -0.4267759731;
            
            xM = M11 * x_input + M12 * y_input + M13 * z_input;
            yM = M21 * x_input + M22 * y_input + M23 * z_input;
            zM = M31 * x_input + M32 * y_input + M33 * z_input;
            
            console.log('–¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è SW ‚Üí M:');
            console.log('xM =', M11, '√ó', x_input, '+', M12, '√ó', y_input, '+', M13, '√ó', z_input);
            console.log('   =', xM);
            console.log('yM =', M21, '√ó', x_input, '+', M22, '√ó', y_input, '+', M23, '√ó', z_input);
            console.log('   =', yM);
            console.log('zM =', M31, '√ó', x_input, '+', M32, '√ó', y_input, '+', M33, '√ó', z_input);
            console.log('   =', zM);

            document.getElementById('step2').innerHTML = `
<span class="comment">// –û—Ç GAngle.js, —Ñ—É–Ω–∫—Ü–∏—è transformSWtoM():</span>
<span class="value">M11</span> = -0.1747159967, <span class="value">M12</span> = 0.6235799837, <span class="value">M13</span> = -0.1867561927
<span class="value">M21</span> = 0.3122687596,  <span class="value">M22</span> = -0.1413437982, <span class="value">M23</span> = 0.8581431812
<span class="value">M31</span> = 0.8697589148,  <span class="value">M32</span> = -0.1087945740, <span class="value">M33</span> = -0.4267759731

<span class="value">xM</span> = M11 √ó ${x_input} + M12 √ó ${y_input} + M13 √ó ${z_input}
   = ${M11} √ó ${x_input} + ${M12} √ó ${y_input} + ${M13} √ó ${z_input}
   = <span class="highlight">${xM.toFixed(10)}</span> mm

<span class="value">yM</span> = M21 √ó ${x_input} + M22 √ó ${y_input} + M23 √ó ${z_input}
   = ${M21} √ó ${x_input} + ${M22} √ó ${y_input} + ${M23} √ó ${z_input}
   = <span class="highlight">${yM.toFixed(10)}</span> mm

<span class="value">zM</span> = M31 √ó ${x_input} + M32 √ó ${y_input} + M33 √ó ${z_input}
   = ${M31} √ó ${x_input} + ${M32} √ó ${y_input} + ${M33} √ó ${z_input}
   = <span class="highlight">${zM.toFixed(10)}</span> mm
            `;
        } else {
            xM = x_input;
            yM = y_input;
            zM = z_input;
            console.log('–ë–ï–ó —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è - –∏–∑–ø–æ–ª–∑–≤–∞—Ç —Å–µ –¥–∏—Ä–µ–∫—Ç–Ω–æ –∫–∞—Ç–æ M –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏');
            
            document.getElementById('step2').innerHTML = `
<span class="comment">// Wrapper –ù–ï —Å–µ –∏–∑–ø–æ–ª–∑–≤–∞ - –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏—Ç–µ –æ—Å—Ç–∞–≤–∞—Ç –∫–∞–∫—Ç–æ —Å–∞:</span>
<span class="value">xM</span> = ${xM} mm
<span class="value">yM</span> = ${yM} mm
<span class="value">zM</span> = ${zM} mm
            `;
        }

        // –°–¢–™–ü–ö–ê 3: –ò–∑—á–∏—Å–ª—è–≤–∞–Ω–µ –Ω–∞ h (–æ—Ç calculateAngle)
        console.log('\n===== –°–¢–™–ü–ö–ê 3: –ò–∑—á–∏—Å–ª—è–≤–∞–Ω–µ –Ω–∞ h =====');
        
        const tanTheta = Math.tan(theta);
        const tanBeta = Math.tan(beta);
        const ah = tanTheta * tanTheta - tanBeta * tanBeta;
        const bh = tanTheta * tanTheta * l;
        const ch = l * l * tanTheta * tanTheta + d * d;
        
        let h;
        if (Math.abs(ah) < 1e-10) {
            h = 0.5 * ch / bh;
        } else if (ah < 0) {
            const discriminant = bh * bh - ah * ch;
            h = (bh - Math.sqrt(discriminant)) / ah;
        } else if (Math.abs(theta) < Math.PI / 2) {
            const discriminant = bh * bh - ah * ch;
            h = (bh - Math.sqrt(discriminant)) / ah;
        } else if (Math.abs(theta) === Math.PI / 2) {
            h = l;
        } else {
            const discriminant = bh * bh - ah * ch;
            h = (bh + Math.sqrt(discriminant)) / ah;
        }
        
        console.log('tan(Œ∏) =', tanTheta);
        console.log('tan(Œ≤) =', tanBeta);
        console.log('ah = tan¬≤(Œ∏) - tan¬≤(Œ≤) =', ah);
        console.log('bh = tan¬≤(Œ∏) √ó l =', bh);
        console.log('ch = l¬≤ √ó tan¬≤(Œ∏) + d¬≤ =', ch);
        console.log('h =', h);

        const discriminant_h = bh * bh - ah * ch;
        document.getElementById('step3').innerHTML = `
<span class="comment">// –ò–∑—á–∏—Å–ª—è–≤–∞–Ω–µ –Ω–∞ h (–≤–∏—Å–æ—á–∏–Ω–∞ –Ω–∞ –∫–æ–Ω—É—Å–∞)</span>
tan(Œ∏) = ${tanTheta.toFixed(10)}
tan(Œ≤) = ${tanBeta.toFixed(10)}

<span class="value">ah</span> = tan¬≤(Œ∏) - tan¬≤(Œ≤) = ${ah.toFixed(10)}
<span class="value">bh</span> = tan¬≤(Œ∏) √ó l = ${bh.toFixed(10)}
<span class="value">ch</span> = l¬≤ √ó tan¬≤(Œ∏) + d¬≤ = ${ch.toFixed(10)}

discriminant = bh¬≤ - ah √ó ch = ${discriminant_h.toFixed(10)}
<span class="function">if</span> (Math.abs(Œ∏) < œÄ/2) {
    h = (bh - ‚àödiscriminant) / ah
      = (${bh.toFixed(6)} - ${Math.sqrt(discriminant_h).toFixed(6)}) / ${ah.toFixed(6)}
      = <span class="highlight">${h.toFixed(10)}</span> mm
}
        `;

        // –°–¢–™–ü–ö–ê 4: –ò–∑—á–∏—Å–ª—è–≤–∞–Ω–µ –Ω–∞ xM_i
        console.log('\n===== –°–¢–™–ü–ö–ê 4: –ò–∑—á–∏—Å–ª—è–≤–∞–Ω–µ –Ω–∞ xM_i =====');
        
        const cosTheta = Math.cos(theta);
        const cosBeta = Math.cos(beta);
        const sinTheta = Math.sin(theta);
        
        const axc = cosTheta * cosTheta - cosBeta * cosBeta;
        const bxc = cosTheta * cosTheta * (yM * sinTheta - h) - 
                    cosBeta * cosBeta * (l * sinTheta * sinTheta - h);
        const term1 = cosTheta * cosTheta * Math.pow(yM * sinTheta - h, 2);
        const term2 = cosBeta * cosBeta * (Math.pow(l * sinTheta * sinTheta - h, 2) +
                     cosTheta * cosTheta * (Math.pow(yM - l * sinTheta, 2) + Math.pow(zM - d, 2)));
        const cxc = term1 - term2;
        
        const discriminant_x = bxc * bxc - axc * cxc;
        const sign_bxc = bxc >= 0 ? 1 : -1;
        let xM_i = (bxc - sign_bxc * Math.sqrt(discriminant_x)) / axc;
        
        console.log('cos(Œ∏) =', cosTheta);
        console.log('cos(Œ≤) =', cosBeta);
        console.log('sin(Œ∏) =', sinTheta);
        console.log('axc =', axc);
        console.log('bxc =', bxc);
        console.log('cxc =', cxc);
        console.log('discriminant =', discriminant_x);
        console.log('xM_i (before /cos(Œ∏)) =', xM_i);
        
        document.getElementById('step4').innerHTML = `
<span class="comment">// –ò–∑—á–∏—Å–ª—è–≤–∞–Ω–µ –Ω–∞ xM –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞</span>
cos(Œ∏) = ${cosTheta.toFixed(10)}
cos(Œ≤) = ${cosBeta.toFixed(10)}
sin(Œ∏) = ${sinTheta.toFixed(10)}

<span class="value">axc</span> = cos¬≤(Œ∏) - cos¬≤(Œ≤) = ${axc.toFixed(10)}
<span class="value">bxc</span> = cos¬≤(Œ∏) √ó (yM √ó sin(Œ∏) - h) - cos¬≤(Œ≤) √ó (l √ó sin¬≤(Œ∏) - h)
    = ${bxc.toFixed(10)}
<span class="value">cxc</span> = term1 - term2 = ${cxc.toFixed(10)}

discriminant = bxc¬≤ - axc √ó cxc = ${discriminant_x.toFixed(10)}
sign_bxc = ${sign_bxc}

xM_i = (bxc - sign_bxc √ó ‚àödiscriminant) / axc
     = (${bxc.toFixed(6)} - ${sign_bxc} √ó ${Math.sqrt(discriminant_x).toFixed(6)}) / ${axc.toFixed(6)}
     = <span class="highlight">${xM_i.toFixed(10)}</span>
        `;

        // –°–¢–™–ü–ö–ê 5: –ò–∑—á–∏—Å–ª—è–≤–∞–Ω–µ –Ω–∞ Œ±f
        console.log('\n===== –°–¢–™–ü–ö–ê 5: –ò–∑—á–∏—Å–ª—è–≤–∞–Ω–µ –Ω–∞ Œ±f =====');
        
        const sqrt_yM2_zM2 = Math.sqrt(yM * yM + zM * zM);
        const A_term1 = (xM_i - yM * sinTheta + h) * cosTheta * cosTheta;
        const A_term2 = (xM_i - l * sinTheta * sinTheta + h) * cosBeta * cosBeta;
        const A = sqrt_yM2_zM2 * (A_term1 - A_term2) / cosTheta;
        
        const B_term1 = (yM * d - zM * l * sinTheta) * cosBeta * cosBeta;
        const B_term2 = zM * (xM_i - yM * sinTheta + h) * sinTheta;
        const B = B_term1 + B_term2;
        
        xM_i = xM_i / cosTheta;
        const alphaRAD_radians = Math.atan(-B / A);
        const alphaRAD_degrees = alphaRAD_radians * 180 / Math.PI;
        
        console.log('‚àö(yM¬≤ + zM¬≤) =', sqrt_yM2_zM2);
        console.log('A_term1 =', A_term1);
        console.log('A_term2 =', A_term2);
        console.log('A =', A);
        console.log('B_term1 =', B_term1);
        console.log('B_term2 =', B_term2);
        console.log('B =', B);
        console.log('xM_i (after /cos(Œ∏)) =', xM_i);
        console.log('Œ±f (rad) =', alphaRAD_radians);
        console.log('Œ±f (¬∞) =', alphaRAD_degrees);

        document.getElementById('step5').innerHTML = `
<span class="comment">// –ò–∑—á–∏—Å–ª—è–≤–∞–Ω–µ –Ω–∞ —Ä–∞–±–æ—Ç–Ω–∏—è –∑–∞–¥–µ–Ω —ä–≥—ä–ª Œ±f</span>
‚àö(yM¬≤ + zM¬≤) = ${sqrt_yM2_zM2.toFixed(10)}

<span class="value">A_term1</span> = (xM_i - yM √ó sin(Œ∏) + h) √ó cos¬≤(Œ∏) = ${A_term1.toFixed(10)}
<span class="value">A_term2</span> = (xM_i - l √ó sin¬≤(Œ∏) + h) √ó cos¬≤(Œ≤) = ${A_term2.toFixed(10)}
<span class="value">A</span> = ‚àö(yM¬≤ + zM¬≤) √ó (A_term1 - A_term2) / cos(Œ∏)
  = ${A.toFixed(10)}

<span class="value">B_term1</span> = (yM √ó d - zM √ó l √ó sin(Œ∏)) √ó cos¬≤(Œ≤) = ${B_term1.toFixed(10)}
<span class="value">B_term2</span> = zM √ó (xM_i - yM √ó sin(Œ∏) + h) √ó sin(Œ∏) = ${B_term2.toFixed(10)}
<span class="value">B</span> = B_term1 + B_term2 = ${B.toFixed(10)}

xM_i = xM_i / cos(Œ∏) = <span class="highlight">${xM_i.toFixed(10)}</span> mm

Œ±f = arctan(-B / A)
   = arctan(${(-B/A).toFixed(10)})
   = ${alphaRAD_radians.toFixed(10)} rad
   = <span class="highlight">${alphaRAD_degrees.toFixed(10)}¬∞</span>
        `;

        // –û–∫–æ–Ω—á–∞—Ç–µ–ª–µ–Ω —Ä–µ–∑—É–ª—Ç–∞—Ç
        console.log('\n====================================');
        console.log('–û–ö–û–ù–ß–ê–¢–ï–õ–ï–ù –†–ï–ó–£–õ–¢–ê–¢:');
        console.log('Œ±f =', alphaRAD_degrees.toFixed(4), '¬∞');
        console.log('h =', h.toFixed(4), 'mm');
        console.log('xM =', xM_i.toFixed(4), 'mm');
        console.log('====================================');

        document.getElementById('final-result').textContent = alphaRAD_degrees.toFixed(4) + '¬∞';
        document.getElementById('final-details').innerHTML = `
            h = ${h.toFixed(6)} mm &nbsp;&nbsp;|&nbsp;&nbsp; x<sub>M</sub> = ${xM_i.toFixed(6)} mm
        `;

        // –ó–∞–∫–ª—é—á–µ–Ω–∏–µ
        const expectedAlpha = 15.98;
        const diff = Math.abs(alphaRAD_degrees - expectedAlpha);

        let conclusion = `
            <h2>üéØ –û–ö–û–ù–ß–ê–¢–ï–õ–ï–ù –û–¢–ì–û–í–û–†</h2>
            <p>–û—á–∞–∫–≤–∞–Ω —Ä–µ–∑—É–ª—Ç–∞—Ç –æ—Ç –≤–∞—Å: <span class="highlight">${expectedAlpha}¬∞</span></p>
            <p>–ò–∑—á–∏—Å–ª–µ–Ω —Ä–µ–∑—É–ª—Ç–∞—Ç: <span class="highlight">${alphaRAD_degrees.toFixed(4)}¬∞</span></p>
            <p>–†–∞–∑–ª–∏–∫–∞: <span class="highlight">${diff.toFixed(4)}¬∞</span></p>
            <br>
        `;

        if (diff < 0.01) {
            conclusion += `
                <p style="font-size: 28px; color: #6ee7b7;">
                    ‚úÖ <strong>–†–ï–ó–£–õ–¢–ê–¢–™–¢ –ï –ü–†–ê–í–ò–õ–ï–ù!</strong>
                </p>
                <br>
                <p style="font-size: 22px; text-align: left; line-height: 1.8;">
                    <strong>–ö–∞–∫ —Å–µ –ø–æ–ª—É—á–∞–≤–∞ ${expectedAlpha}¬∞:</strong><br><br>
                    1Ô∏è‚É£ Index.html –ò–ó–ü–û–õ–ó–í–ê <span class="highlight">calculateAngleFromSW()</span><br>
                    2Ô∏è‚É£ Wrapper-—ä—Ç –¢–†–ê–ù–°–§–û–†–ú–ò–†–ê SW(${x_input}, ${y_input}, ${z_input}) ‚Üí M(${xM.toFixed(2)}, ${yM.toFixed(2)}, ${zM.toFixed(2)})<br>
                    3Ô∏è‚É£ –° M –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏—Ç–µ —Å–µ –∏–∑—á–∏—Å–ª—è–≤–∞ Œ±f = ${alphaRAD_degrees.toFixed(4)}¬∞<br><br>
                    <strong style="color: #fbbf24;">‚úÖ Wrapper —Ñ—É–Ω–∫—Ü–∏—è—Ç–∞ –ï –ê–ë–°–û–õ–Æ–¢–ù–û –ù–ï–û–ë–•–û–î–ò–ú–ê!</strong>
                </p>
            `;
        } else {
            conclusion += `
                <p style="font-size: 24px; color: #fca5a5;">
                    ‚ö†Ô∏è –†–∞–∑–ª–∏–∫–∞—Ç–∞ –µ ${diff.toFixed(4)}¬∞ - –∏–º–∞ –Ω–µ—Å—ä–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ!
                </p>
            `;
        }

        document.getElementById('conclusion').innerHTML = conclusion;
    </script>
</body>
</html>
